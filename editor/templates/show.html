<!-- show.html - Template semplificato per rendering markdown standard -->
{% extends "base.html" %}
{% block title %}{{ doc_title or doc_id }}{% endblock %}

{% block content %}
  <!-- Navigazione semplice -->
  <div class="flex items-center justify-between mb-8 pb-4" style="border-bottom: 1px solid var(--notion-border);">
    <a href="/{{ collection }}{% if qs %}?{{ qs }}{% endif %}" class="btn">← Lista {{ collection_label or collection }}</a>
    
    <div class="flex items-center gap-2">
      <a class="btn" 
         {% if prev_id %}href="/{{ collection }}/{{ prev_id }}{% if qs %}?{{ qs }}{% endif %}"{% endif %}
         {% if not prev_id %}style="opacity: 0.3; pointer-events: none;"{% endif %}>
        ← Precedente
      </a>
      <a class="btn"
         {% if next_id %}href="/{{ collection }}/{{ next_id }}{% if qs %}?{{ qs }}{% endif %}"{% endif %}
         {% if not next_id %}style="opacity: 0.3; pointer-events: none;"{% endif %}>
        Successivo →
      </a>
    </div>
  </div>

  <!-- Contenuto principale -->
  <article data-md-section>
    <!-- Rendering markdown semplice -->
    {% if body_html %}
      {% if body_html != body_raw %}
        <!-- Server-side rendered markdown -->
        <div id="doc-md" data-markdown data-ssr="true" data-raw="{{ body_raw | e }}">
          {{ body_html | safe }}
        </div>
      {% else %}
        <!-- Client-side markdown rendering -->
        <div id="doc-md" data-markdown data-raw="{{ body_raw | e }}">
          {{ body_raw }}
        </div>
      {% endif %}
    {% else %}
      <div style="color: var(--notion-text-light); font-style: italic;">Nessuna descrizione disponibile.</div>
    {% endif %}
  </article>

  <!-- Pulsante copia markdown -->
  <div class="mt-6 pt-4" style="border-top: 1px solid var(--notion-border);">
    <button onclick="copyMarkdown(this)" class="btn btn-ghost">
      Copia Markdown
    </button>
  </div>
{% endblock %}

{% block scripts %}
{{ super() }}
{% endblock %}