{{define "search_results.html"}}
{{if .results}}
<div class="notion-list">
  {{range .results}}
  <div class="notion-list-item">
    <a href="/c/{{._collection}}/{{.slug}}" class="notion-list-item-link">
      <div class="notion-list-item-content">
        <h3 class="notion-list-item-title">{{.nome}}</h3>
        {{if .descrizione}}
        <p class="notion-list-item-description">
          {{.descrizione | slice 0 200}}{{if gt (len .descrizione) 200}}...{{end}}
        </p>
        {{end}}
        <div class="notion-list-item-meta">
          <span class="tag">{{._collection_title}}</span>
          {{if .livello}}
          <span class="tag">Livello {{.livello}}</span>
          {{else if .grado_sfida}}
          <span class="tag">GS {{.grado_sfida}}</span>
          {{else if .costo}}
          <span class="tag">{{.costo}}</span>
          {{end}}
        </div>
      </div>
      <div class="notion-list-item-action">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M6.22 8.72a.75.75 0 0 0 1.06 1.06L10.94 6.2a.75.75 0 0 0-.53-1.28H6.75a.75.75 0 0 0 0 1.5h1.69L6.22 8.72Z"/>
        </svg>
      </div>
    </a>
  </div>
  {{end}}
</div>

{{if gt .resultCount 50}}
<div class="search-note" style="text-align: center; margin-top: 1rem; color: var(--notion-text-light);">
  Mostrati i primi 50 risultati. Affina la ricerca per risultati pi√π specifici.
</div>
{{end}}

{{else}}
<div class="notion-empty" style="text-align: center; padding: 2rem;">
  <p style="color: var(--notion-text-light); font-size: 1.1rem;">
    Nessun risultato trovato per "{{.query}}"
  </p>
</div>
{{end}}
{{end}}