{{define "title"}}{{or .doc_title .doc_id}}{{end}}

{{define "content"}}
  <!-- Navigazione semplice -->
  <div class="flex items-center justify-between mb-8 pb-4" style="border-bottom: 1px solid var(--notion-border);">
    <a href="/{{.collection}}{{if .qs}}?{{.qs}}{{end}}" class="btn">← Lista {{or .collection_label .collection}}</a>
    
    <div class="flex items-center gap-2">
      <a class="btn" 
         {{if .prev_id}}href="/{{.collection}}/{{.prev_id}}{{if .qs}}?{{.qs}}{{end}}"
         hx-get="/{{.collection}}/{{.prev_id}}"
         hx-target="#page-root" 
         hx-select="#page-root" 
         hx-swap="outerHTML" 
         hx-push-url="true"{{end}}
         {{if not .prev_id}}style="opacity: 0.3; pointer-events: none;"{{end}}>
        ← Precedente
      </a>
      <a class="btn"
         {{if .next_id}}href="/{{.collection}}/{{.next_id}}{{if .qs}}?{{.qs}}{{end}}"
         hx-get="/{{.collection}}/{{.next_id}}"
         hx-target="#page-root" 
         hx-select="#page-root" 
         hx-swap="outerHTML" 
         hx-push-url="true"{{end}}
         {{if not .next_id}}style="opacity: 0.3; pointer-events: none;"{{end}}>
        Successivo →
      </a>
    </div>
  </div>

  <!-- Contenuto principale -->
  <article data-md-section>
    <!-- Rendering markdown semplice -->
    {{if .body_html}}
      {{if ne .body_html .body_raw}}
        <!-- Server-side rendered markdown -->
        <div id="doc-md" data-markdown data-ssr="true" data-raw="{{.body_raw}}">
          {{.body_html | safe}}
        </div>
      {{else}}
        <!-- Client-side markdown rendering -->
        <div id="doc-md" data-markdown data-raw="{{.body_raw}}">
          {{.body_raw}}
        </div>
      {{end}}
    {{else if .body_raw}}
      <div id="doc-md" data-markdown>
        {{.body_raw}}
      </div>
    {{else}}
      <div style="color: var(--notion-text-light); font-style: italic;">Nessuna descrizione disponibile.</div>
    {{end}}
  </article>

  <!-- Pulsante copia markdown -->
  <div class="mt-6 pt-4" style="border-top: 1px solid var(--notion-border);">
    <button onclick="copyMarkdown(this)" class="btn btn-ghost">
      Copia Markdown
    </button>
  </div>
{{end}}

{{define "scripts"}}
{{/* Additional scripts if needed */}}
{{end}}