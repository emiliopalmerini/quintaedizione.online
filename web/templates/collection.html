{{define "title"}}{{.collection}} • Lista{{end}}

{{define "header_actions"}}
  <a href="/" class="btn btn-ghost">Tutte le collezioni</a>
{{end}}

{{define "content"}}
  <section class="bg-white border p-2 mb-3">
    <form id="search-form"
      hx-get="/{{.collection}}/rows"
      hx-target="#rows"
      hx-trigger="submit, keyup delay:300ms from:#q, change from:select, change from:input[type=checkbox], change from:input[type=number]"
      hx-push-url="true"
      class="flex flex-col gap-2"
    >
      <div class="flex items-center gap-2 flex-wrap">
        <input id="q" name="q" placeholder="Cerca…" value="{{.q | default ""}}" class="field flex-1" />
        <select name="page_size" class="field w-28">
          {{$pageSize := .page_size | default 20}}
          <option value="10" {{if eq $pageSize 10}}selected{{end}}>10/pagina</option>
          <option value="20" {{if eq $pageSize 20}}selected{{end}}>20/pagina</option>
          <option value="50" {{if eq $pageSize 50}}selected{{end}}>50/pagina</option>
          <option value="100" {{if eq $pageSize 100}}selected{{end}}>100/pagina</option>
        </select>
        <button class="btn" type="submit">Cerca</button>
      </div>

    </form>
  </section>

  <section class="bg-white border">
    <div id="rows">
      {{template "rows" .}}
    </div>
  </section>
{{end}}
